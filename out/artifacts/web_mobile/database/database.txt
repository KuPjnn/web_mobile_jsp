-- người dùng
CREATE TABLE `user`(
`ID_USER` VARCHAR(10) PRIMARY KEY,
`USER_NAME` VARCHAR(50) NOT NULL,
`PASSWORD` VARCHAR(50) NOT NULL,
`FULLNAME` VARCHAR(50) NOT NULL,
`EMAIL` VARCHAR(50) NOT NULL,
`PHONE` VARCHAR(50) NOT NULL,
`PRIVILEGES` VARCHAR(50) NOT NULL
);

-- sản phẩm
CREATE TABLE `product`(
`ID_PRODUCT` VARCHAR(10) PRIMARY KEY,
`ID_ITEMS` VARCHAR(10) NOT NULL,
`ID_SUPPLIER` VARCHAR(10) NOT NULL,
`PRODUCT_NAME` VARCHAR(50) NOT NULL,
`PRICE` DOUBLE NOT NULL,
`IMG` VARCHAR(50) NOT NULL,
`TOTAL`	INT NOT NULL
);

-- mặt hàng
CREATE TABLE `items`(
`ID_ITEMS` VARCHAR(10) PRIMARY KEY,
`ITEMS_NAME` VARCHAR(50) NOT NULL
);

-- đơn hàng
CREATE TABLE `bill` (
  `ID_BILL` VARCHAR(10) PRIMARY KEY,
	`ID_USER` VARCHAR(10) NOT NULL,
	`DATE` DATE NOT NULL,
	`ADDRESS` VARCHAR(100) NOT NULL,
	`STATUS` VARCHAR(20) NOT NULL
);

-- bình luận
CREATE TABLE `comment`(
	`ID_COMMENT` VARCHAR(10) PRIMARY KEY,
	`ID_USER` VARCHAR(10) NOT NULL,
	`ID_PRODUCT` VARCHAR(10) NOT NULL,
	`CONTENT` VARCHAR(300) NOT NULL,
	`DATE_COMMENT` DATE NOT NULL
);

-- slideshow
CREATE TABLE `slide` (
`ID_SLIDE` VARCHAR(10) PRIMARY KEY,
`IMG_SLIDE` VARCHAR(100) NOT NULL
);

-- ATM
CREATE TABLE `atm`(
`ID_ATM` VARCHAR(10) PRIMARY KEY,
`ACCUONT_NUMBER` INT NOT NULL,
`ACCUONT_NAME` VARCHAR(50) NOT NULL,
`BALANCE` DOUBLE NOT NULL
);

-- chi tiết đơn hàng
CREATE TABLE `detail_order`(
	`ID_PRODUCT` VARCHAR(10) NOT NULL,
	`ID_BILL` VARCHAR(10) NOT NULL
);

-- cấu hình sản phẩm
CREATE TABLE `configuration`(
`ID_CONF` VARCHAR(10) PRIMARY KEY,
`ID_PRODUCT` VARCHAR(10) NOT NULL,
`DISPLAY` VARCHAR(50) NOT NULL,
`CAMERA_FRONT` VARCHAR(50) NOT NULL,
`CAMERA_BACK` VARCHAR(50) NOT NULL,
`RAM` VARCHAR(50) NOT NULL,
`ROM` VARCHAR(50) NOT NULL,
`CPU` VARCHAR(50) NOT NULL,
`GPU` VARCHAR(50) NOT NULL,
`PIN` VARCHAR(50) NOT NULL,
`OS` VARCHAR(50) NOT NULL,
`SIM` VARCHAR(50) NOT NULL
);

-- nhà cung cấp sản phẩm
CREATE TABLE `supplier`(
`ID_SUPPLIER` VARCHAR(10) PRIMARY KEY,
`NAME_SUPPLIER` VARCHAR(50) NOT NULL
);

ALTER TABLE `detail_order`
		ADD PRIMARY KEY (`ID_PRODUCT`,`ID_BILL`),
		ADD KEY `ID_PRODUCT` (`ID_PRODUCT`);

ALTER TABLE `product`  
		ADD FOREIGN KEY (`ID_ITEMS`) REFERENCES `items` (`ID_ITEMS`),
		ADD FOREIGN KEY (`ID_SUPPLIER`) REFERENCES `supplier` (`ID_SUPPLIER`);
		
ALTER TABLE `configuration`  
		ADD FOREIGN KEY (`ID_PRODUCT`) REFERENCES `product` (`ID_PRODUCT`);

ALTER TABLE `bill`
		ADD FOREIGN KEY (`ID_USER`) REFERENCES `user` (`ID_USER`);


ALTER TABLE `comment`  
		ADD FOREIGN KEY (`ID_PRODUCT`) REFERENCES `product` (`ID_PRODUCT`),
		ADD FOREIGN KEY (`ID_USER`) REFERENCES `user` (`ID_USER`);
		
ALTER TABLE `detail_order`  
		ADD FOREIGN KEY (`ID_PRODUCT`) REFERENCES `product` (`ID_PRODUCT`),
		ADD FOREIGN KEY (`ID_BILL`) REFERENCES `bill` (`ID_BILL`);
	